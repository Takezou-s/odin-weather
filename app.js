(()=>{"use strict";const t=(e=document.body,{render:function(t){e.appendChild(t.render())}});var e;function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e,n){return(e=a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){var e=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,"string");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===n(e)?e:String(e)}var u=i((function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,"_listeners",[]),o(this,"_timeoutId",null),o(this,"delay",null),o(this,"postInvokeFn",null),o(this,"subscribe",(function(t){e._listeners.push(t)})),o(this,"unsubscribe",(function(t){if(t){var n=e._listeners.findIndex((function(e){return e===t}));n>=0&&e._listeners.splice(n,1)}})),o(this,"clearSubscribers",(function(){e._listeners.splice(0,e._listeners.length)})),o(this,"fireEvent",(function(t,n){if(e.delay&&!isNaN(e.delay)&&e.delay>0)return e._timeoutId&&clearTimeout(e._timeoutId),void(e._timeoutId=setTimeout((function(){e._invoke(t,n)}),e.delay,null));e._invoke(t,n)})),o(this,"_invoke",(function(t,n){e._listeners.forEach((function(e){return e(t,n)})),e.postInvokeFn&&e.postInvokeFn(t,n)})),this.delay=n,this.postInvokeFn=r}));function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function c(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t,e,n){return(e=p(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===s(e)?e:String(e)}var h=c((function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),f(this,"_value",null),f(this,"owner",void 0),f(this,"propertyName",void 0),f(this,"notifier",void 0),f(this,"fireAlways",!1),f(this,"changedPredicate",null),f(this,"setValue",(function(t){var e=i.isWrappedFunction(),n=t;if(t&&"function"==typeof t){if(e)return i._value.fn=t,void i._fireChanged();var r=t(i._value);if(void 0===r)return void i._fireChanged();n=r}var o=(i.changedPredicate||function(){return i._value!==n})(i._value,n);i._value=n,(o||i.fireAlways)&&i._fireChanged()})),f(this,"setValueSilent",(function(t){var e=t;if(t&&"function"==typeof t){if(i.isWrappedFunction())return void(i._value.fn=t);var n=t(i._value);if(void 0===n)return;e=n}i._value=e})),f(this,"getValue",(function(){return i.isWrappedFunction()?i._value.fn:i._value})),f(this,"isWrappedFunction",(function(){return i._value&&i._value.type&&"WrappedFunction"===i._value.type})),f(this,"_fireChanged",(function(){i.notifier instanceof u?i.notifier.fireEvent(i.owner,{property:i.propertyName,value:i._value}):i.notifier.fireEvent(i.owner,i.propertyName,i._value)})),this.owner=e,this.propertyName=n,this.notifier=r,this.fireAlways=o,this.changedPredicate=a}));function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function b(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function d(t,e,n){return(e=m(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===y(e)?e:String(e)}var _=b((function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,"_event",void 0),d(this,"subscribe",void 0),d(this,"unsubscribe",void 0),d(this,"clearSubscribers",void 0),d(this,"fireEvent",(function(t,n,r){e._event.fireEvent(t,{property:n,value:r})})),this._event=new u(n,r),this.subscribe=this._event.subscribe,this.unsubscribe=this._event.unsubscribe,this.clearSubscribers=this._event.clearSubscribers}));function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P(r.key),r)}}function w(t,e,n){return(e=P(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P(t){var e=function(t,e){if("object"!==g(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===g(e)?e:String(e)}var j=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),w(this,"listen",(function(t,n,r,i){var o=function(t,e){return!0};i&&(o="[object String]"===Object.prototype.toString.call(i)?function(t,e){return function(t){return!t||!r||r===t}(t)&&function(t){return!t||"__any__"===t||t==t}(e)}:i),t(e._getWrappedListener(n,o))})),w(this,"listenOwnersAnyProperty",(function(t,n,r){e.listen(t,n,r,null)})),w(this,"listenProperty",(function(t,n,r){e.listen(t,n,null,r)})),w(this,"listenAnyProperty",(function(t,n){e.listen(t,n,null,null)}))}var e,n;return e=t,(n=[{key:"_getWrappedListener",value:function(t,e){return function(n,r){var i=r.property,o=r.value;e(n,i)&&t(n,i,o)}}}])&&S(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k(r.key),r)}}function O(t,e,n){return e&&C(t.prototype,e),n&&C(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T(t,e,n){return(e=k(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t){var e=function(t,e){if("object"!==E(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===E(e)?e:String(e)}var N=function(){function t(e,n){var r=this;V(this,t),T(this,"_owner",void 0),T(this,"_propertyNotifier",new _(null,null)),T(this,"_propertyChangedListener",new j),T(this,"_states",[]),T(this,"_stateChangedEvent",void 0),T(this,"createState",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=new F(r._owner,t,r._propertyNotifier,e,n,i);return r._states.push(o),r._propertyChangedListener.listenAnyProperty(r._propertyNotifier.subscribe,r._propertyChangedHandler),o})),T(this,"subscribeStoreChanged",(function(t){r._stateChangedEvent.subscribe(t)})),T(this,"unsubscribeStoreChanged",(function(t){r._stateChangedEvent.unsubscribe(t)})),T(this,"getStateValue",(function(t){var e=null,n=r._findState(t);return n&&(e=n.getValue()),e})),T(this,"setStateValue",(function(t,e){var n=r._findState(t);n&&n.setValue(e)})),T(this,"_converters",[]),T(this,"_resetChanged",(function(){r._states.forEach((function(t){return t.changed=!1}))})),T(this,"_findState",(function(t){return r._states.find((function(e){return e.stateName===t}))})),T(this,"_propertyChangedHandler",(function(t,e,n){var i=r._findState(e);i&&(i.changed=!0),r._stateChangedEvent.fireEvent(r._owner,r._states.filter((function(t){return t.changed})))})),this._owner=e,this._stateChangedEvent=new u(n,this._resetChanged)}return O(t,[{key:"exportStateValues",value:function(){var t=this,e=[];return this._states.forEach((function(n){var r;if(!n.isWrappedFunction()){var i=null===(r=t._converters.find((function(t){return t.stateName===n.stateName})))||void 0===r?void 0:r.getter,o=i?i(n.getValue()):n.getValue();e.push({stateName:n.stateName,value:o})}})),e}},{key:"importStateValues",value:function(t){var e=this;t.forEach((function(t){var n,r=e._findState(t.stateName);if(null==r||!r.isWrappedFunction()){var i=null===(n=e._converters.find((function(e){return e.stateName===t.stateName})))||void 0===n?void 0:n.setter;e.setStateValue(t.stateName,i?i(t.value):t.value)}}))}},{key:"getDelay",get:function(){return this._stateChangedEvent.delay}},{key:"setDelay",set:function(t){this._stateChangedEvent.delay=t}}]),t}(),F=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;V(this,t),T(this,"_property",void 0),T(this,"_stateName",void 0),T(this,"changed",!1),T(this,"getValue",(function(){return i._property.getValue()})),T(this,"getValueT",(function(){return i.getValue()})),T(this,"setValue",(function(t){i._property.setValue(t)})),T(this,"setValueT",(function(t){i.setValue(t)})),T(this,"isWrappedFunction",(function(){return i._property.isWrappedFunction()})),this._property=new h(e,n,r,a,u),o&&"function"==typeof o&&(o={fn:o,type:"WrappedFunction"}),this._property.setValueSilent(o),this._stateName=n}return O(t,[{key:"stateName",get:function(){return this._stateName}}]),t}();function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L(r.key),r)}}function I(t,e,n){return(e=L(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L(t){var e=function(t,e){if("object"!==W(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===W(e)?e:String(e)}function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==x(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===x(i)?i:String(i)),r)}var i}function H(t,e){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},H(t,e)}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}var D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H(t,e)}(a,t);var e,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=R(r);if(i){var n=R(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===x(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function a(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,t)}return e=a,(n=[{key:"_initNode",value:function(){var t,e=(new DOMParser).parseFromString(this.props.htmlString,"text/html");this.node=null===(t=e.body.querySelector("*"))||void 0===t?void 0:t.cloneNode(!0)}}])&&B(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),I(this,"_update",!1),I(this,"_stateBinds",[]),I(this,"_stateStore",new N(this,50)),I(this,"_changedStates",[]),I(this,"_ps",{}),I(this,"props",void 0),I(this,"_classes",void 0),I(this,"_node",void 0),I(this,"_createState",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return e._stateStore.createState(t,n,r,i)})),I(this,"_bindToState",(function(t,n){e._stateBinds.push({state:t,fn:n})})),I(this,"_reflectStates",(function(){!e._update||!e._changedStates||e._changedStates.length<=0?e._stateBinds.forEach((function(t){return t.fn({state:t.state,getValue:t.state.getValue,getValueT:t.state.getValueT})})):(e._changedStates.forEach((function(t){var n=e._stateBinds.find((function(e){return e.state===t||e.state.stateName===t.stateName}));n&&n.fn({state:n.state,getValue:n.state.getValue,getValueT:n.state.getValueT})})),e._changedStates=[])})),I(this,"_reflectToElements",(function(){e._reflectStates()})),I(this,"getPropValue",(function(t){return e._stateStore.getStateValue("props.".concat(t))})),I(this,"setPropValue",(function(t,n){e._stateStore.setStateValue("props.".concat(t),n)})),I(this,"_stateChangedHandler",(function(t,n){e._changedStates=n,e.render()})),this._stateStore.subscribeStoreChanged(this._stateChangedHandler),(n=n||{}).children=n.children||[],n.styles=n.styles||{},n.classes=n.classes||"",n){var r={get:function(t,n,r){return e.getPropValue(n)},set:function(t,n,r){return e.setPropValue(n,r),!0}};this.props=new Proxy(Object.assign({},n),r),function(){for(var t in n){var r=n[t];r&&"function"==typeof r&&(r={fn:r,type:"WrappedFunction"}),e._ps[t]=e._createState("props.".concat(t),r,!0)}}()}this._classes=this._createState("classes",document.createElement("div").classList,!0),this._initNode(),this._initStatesWrapper()}var e,n;return e=t,n=[{key:"node",get:function(){return this._node},set:function(t){this._node=t}},{key:"addClass",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._classes.setValueT((function(t){return e.forEach((function(e){e.trim().split(" ").forEach((function(e){e&&e.length>0&&t.add(e)}))})),t}))}},{key:"removeClass",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._classes.setValueT((function(t){return e.forEach((function(e){e.trim().split(" ").forEach((function(e){e&&e.length>0&&t.remove(e)}))})),t}))}},{key:"toggleClass",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._classes.setValueT((function(t){return e.forEach((function(e){e.trim().split(" ").forEach((function(e){e&&e.length>0&&t.toggle(e)}))})),t}))}},{key:"_initStatesWrapper",value:function(){var t=this,e=function(e,n){var r=((null==e?void 0:e.trim())+" "+(null==n?void 0:n.trim())).trim();if(r&&r.length>0)if("svg"===t.node.nodeName){var i=t.node.classList.value;(i=i.trim().split(" ")).forEach((function(e){e&&t.node.classList.remove(e)})),(i=r.split(" ")).forEach((function(e){e&&t.node.classList.add(e)}))}else t.node.className=r};this._bindToState(this._classes,(function(n){var r=n.getValueT;e(r().value,t._getClassesFromProps())})),this._ps&&(this._ps.styles&&this._bindToState(this._ps.styles,(function(e){var n=(0,e.getValue)();for(var r in n)Object.prototype.hasOwnProperty.call(t.node.style,r)&&(t.node.style[r]=n[r])})),this._ps.classes&&this._bindToState(this._ps.classes,(function(n){var r=n.getValue;e(t._classes.getValueT().value,r())}))),this._initStates()}},{key:"_initStates",value:function(){}},{key:"_getClassesFromProps",value:function(){var t="";return this._ps&&this._ps.classes&&(t=this._ps.classes.getValue()),t}},{key:"_subscribeStateStore",value:function(t){t.subscribeStoreChanged(this._stateChangedHandler)}},{key:"_unsubscribeStateStore",value:function(t){t.unsubscribeStoreChanged(this._stateChangedHandler)}},{key:"render",value:function(){return this._reflectToElements(),this._update=!0,this.node}}],n&&A(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}());t.render(new D({htmlString:"<h1>Deneme</h1>"}))})();